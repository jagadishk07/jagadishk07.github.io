<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SVLS Mart â€“ Smart Village Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#02040f;--panel:#050a1a;--neon:#00f5ff;--green:#7cff00;--text:#e5e7eb;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:Poppins;color:var(--text);
  background:linear-gradient(rgba(2,6,23,.9),rgba(2,6,23,.9));
}

/* -------- MOBILE FIRST -------- */
.app{
  max-width:480px;
  margin:auto;
  background:#020617;
  min-height:100vh;
  position:relative;
}
@media(min-width:900px){
  .app{max-width:1100px;border-radius:16px;margin:20px auto;}
}

/* -------- HEADER -------- */
.header{
  display:flex;align-items:center;gap:12px;
  padding:14px;
  border-bottom:1px solid rgba(0,245,255,.2);
}
.header img{height:40px}
.header h1{
  font-family:Orbitron;
  font-size:16px;color:var(--neon);
}
.header p{font-size:12px;color:#a5b4fc}

/* -------- NAV -------- */
.nav{
  display:flex;justify-content:space-around;
  background:#020617;border-top:1px solid rgba(0,245,255,.2);
  position:fixed;bottom:0;left:0;right:0;
}
.nav button{
  flex:1;padding:10px 0;background:none;border:none;
  color:var(--neon);font-size:12px;
}

/* -------- VIEWS -------- */
.view{display:none;padding:16px 16px 70px}
.active{display:block}

/* -------- COMMON -------- */
h2{font-family:Orbitron;color:var(--neon);text-align:center;margin:10px 0}
.card{
  background:#020617;padding:16px;border-radius:14px;
  border:1px solid rgba(0,245,255,.2);
  margin:12px 0;
}
input,select,textarea{
  width:100%;padding:10px;margin:6px 0;
  background:#020617;border:1px solid #020617;color:white;border-radius:8px;
}
button.main{
  width:100%;padding:12px;background:var(--neon);
  border:none;border-radius:8px;font-weight:600;
}

/* -------- FLOW -------- */
.flow{display:flex;flex-wrap:wrap;justify-content:center;gap:6px;font-size:12px}
.step{background:#020617;padding:6px 10px;border-radius:8px;border:1px solid var(--neon)}
.arrow{color:var(--green)}

/* -------- DASHBOARD -------- */
.list li{font-size:13px;margin:6px 0}

/* -------- AI -------- */
.ai-box{
  position:fixed;right:10px;bottom:70px;width:260px;
  background:#020617;border:1px solid var(--neon);
  border-radius:14px;display:none;
}
.ai-head{text-align:center;padding:8px;font-family:Orbitron;color:var(--neon)}
.ai-body{padding:8px;font-size:12px}
.ai-input{display:flex}
.ai-input input{flex:1}
.ai-input button{background:var(--neon);border:none;padding:6px 10px}
</style>
</head>

<body>

<div class="app">

<!-- HEADER -->
<div class="header">
  <img src="https://jagadishk07.github.io/notes/brand_logo.png">
  <div>
    <h1>SVLS Mart</h1>
    <p>Our Village. Our Shops. Our Future.</p>
  </div>
</div>

<!-- ================= CUSTOMER ================= -->
<div id="customer" class="view active">
  <h2>Raise a Smart Request</h2>

  <div class="card">
    <input id="cname" placeholder="Your Name">
    <input id="cmobile" placeholder="Mobile Number">

    <!-- ADDRESS -->
    <select id="village" onchange="loadStreets()">
      <option value="">Select Village *</option>
      <option>Velugode</option>
      <option>Boyarevula</option>
      <option>Velpanur</option>
    </select>

    <select id="street">
      <option value="">Select Street *</option>
    </select>

    <input id="house" placeholder="House No (Optional)">

    <!-- SERVICE -->
    <select id="ccat">
      <option value="">Select Service *</option>
      <option>Grocery</option><option>Hotel</option><option>Restaurant</option>
      <option>Medical</option><option>Vegetable</option><option>Hardware</option>
      <option>Stationery</option><option>Beauty</option><option>Home Service</option>
    </select>

    <textarea id="cneed" placeholder="Enter your requirement"></textarea>

    <button class="main" onclick="createOrder()">Send Request</button>
  </div>

  <h2>How It Works</h2>
  <div class="flow">
    <div class="step">Customer</div><div class="arrow">âžœ</div>
    <div class="step">Admin</div><div class="arrow">âžœ</div>
    <div class="step">Delivery</div><div class="arrow">âžœ</div>
    <div class="step">Done</div>
  </div>
</div>

<!-- ================= ADMIN ================= -->
<div id="admin" class="view">
  <h2>Admin Dashboard</h2>
  <div class="card">
    <b>Incoming Orders</b>
    <ul id="adminOrders" class="list"></ul>
  </div>
</div>

<!-- ================= DELIVERY ================= -->
<div id="delivery" class="view">
  <h2>Delivery Console</h2>
  <div class="card">
    <ul id="deliveryOrders" class="list"></ul>
    <button class="main" onclick="updateStatus('Picked Up')">Picked Up</button><br><br>
    <button class="main" onclick="updateStatus('On the Way')">On the Way</button><br><br>
    <button class="main" onclick="updateStatus('Delivered')">Delivered</button>
  </div>
</div>

<!-- ================= TRACKING ================= -->
<div id="tracking" class="view">
  <h2>Track Your Order</h2>
  <div class="card">
    <input id="trackId" placeholder="Enter Order ID">
    <button class="main" onclick="trackOrder()">Track</button>
    <div id="trackResult" style="margin-top:10px"></div>
  </div>
</div>

<!-- AI ASSISTANT -->
<div class="ai-box" id="aiBox">
  <div class="ai-head">SVLS AI</div>
  <div class="ai-body" id="aiReply">Ask me about orders.</div>
  <div class="ai-input">
    <input id="aiInput">
    <button onclick="aiChat()">âž¤</button>
  </div>
</div>

</div>

<!-- NAV -->
<div class="nav">
  <button onclick="showView('customer')">Customer</button>
  <button onclick="showView('admin')">Admin</button>
  <button onclick="showView('delivery')">Delivery</button>
  <button onclick="showView('tracking')">Tracking</button>
</div>

<script>
/* ---------------- DATA ---------------- */
let orders=[];
let selectedOrder=null;

/* ---------------- VIEW ---------------- */
function showView(v){
  document.querySelectorAll(".view").forEach(x=>x.classList.remove("active"));
  document.getElementById(v).classList.add("active");
}

/* ---------------- ADDRESS LOGIC ---------------- */
const streetsByVillage={
  "Velugode":["Gandhi Nagar","Indira Nagar","Gandi Peta","Gurram Peta"],
  "Boyarevula":["Main Road","SC Colony","BC Colony"],
  "Velpanur":["Bus Stand Area","Temple Street","Market Road"]
};

function loadStreets(){
  const v=village.value;
  street.innerHTML='<option value="">Select Street *</option>';
  if(streetsByVillage[v]){
    streetsByVillage[v].forEach(s=>{
      const o=document.createElement("option");
      o.textContent=s;street.appendChild(o);
    });
  }
}

/* ---------------- ORDER ID ---------------- */
function genOrderId(){
  const d=new Date();
  const yy=String(d.getFullYear()).slice(2);
  const mm=String(d.getMonth()+1).padStart(2,"0");
  const dd=String(d.getDate()).padStart(2,"0");
  const hh=String(d.getHours()).padStart(2,"0");
  const mi=String(d.getMinutes()).padStart(2,"0");
  const ss=String(d.getSeconds()).padStart(2,"0");
  return yy+mm+dd+hh+mi+ss;
}

/* ---------------- CREATE ORDER ---------------- */
function createOrder(){
  if(!cname.value||!cmobile.value||!village.value||!street.value||!ccat.value){
    alert("Please fill all mandatory fields");return;
  }

  const id=genOrderId();
  const order={
    id,
    name:cname.value,
    mob:cmobile.value,
    village:village.value,
    street:street.value,
    house:house.value,
    cat:ccat.value,
    need:cneed.value,
    status:"New",
    exec:"-"
  };
  orders.push(order);

  sendToWhatsApp(order);
  alert("âœ… Order placed!\nYour Order ID: "+id);

  refreshAdmin();
  refreshDelivery();
}

/* ---------------- WHATSAPP (Frontend Automation) ---------------- */
function sendToWhatsApp(o){
  const msg=
`ðŸ“Œ *NEW ORDER â€“ SVLS MART*
Order ID: ${o.id}

Customer: ${o.name}
Mobile: ${o.mob}

Address:
${o.village}, ${o.street} ${o.house?(", "+o.house):""}

Service: ${o.cat}

Requirement:
${o.need}

Please confirm & assign delivery executive.`;

  window.open("https://wa.me/918885730807?text="+encodeURIComponent(msg),"_blank");
}

/* ---------------- ADMIN ---------------- */
function refreshAdmin(){
  adminOrders.innerHTML="";
  orders.forEach(o=>{
    const li=document.createElement("li");
    li.textContent=`${o.id} | ${o.name} | ${o.status}`;
    li.onclick=()=>selectedOrder=o;
    adminOrders.appendChild(li);
  });
}

/* ---------------- DELIVERY ---------------- */
function refreshDelivery(){
  deliveryOrders.innerHTML="";
  orders.forEach(o=>{
    if(o.status!=="New"){
      const li=document.createElement("li");
      li.textContent=`${o.id} | ${o.status}`;
      deliveryOrders.appendChild(li);
    }
  });
}

function updateStatus(s){
  if(!selectedOrder){alert("Select order in Admin");return;}
  selectedOrder.status=s;
  refreshAdmin();refreshDelivery();
}

/* ---------------- TRACK ---------------- */
function trackOrder(){
  const o=orders.find(x=>x.id===trackId.value);
  trackResult.textContent=o?
   `Status: ${o.status}`:"Order not found";
}

/* ---------------- AI ---------------- */
function aiChat(){
  const q=aiInput.value.toLowerCase();
  if(q.includes("order")) aiReply.textContent="Place order in Customer tab.";
  else if(q.includes("track")) aiReply.textContent="Use Tracking tab with Order ID.";
  else aiReply.textContent="Ask me about orders, delivery, tracking.";
}
</script>

</body>
</html>
